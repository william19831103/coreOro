DROP PROCEDURE IF EXISTS add_migration;
delimiter ??
CREATE PROCEDURE `add_migration`()
BEGIN
DECLARE v INT DEFAULT 1;
SET v = (SELECT COUNT(*) FROM `migrations` WHERE `id`='20230402195400');
IF v=0 THEN
INSERT INTO `migrations` VALUES ('20230402195400');
-- Add your query below.


-- Fix waypoints for Twilight Prophet.
DELETE FROM `creature_movement` WHERE `id`=300750;
INSERT INTO `creature_movement` (`id`, `point`, `position_x`, `position_y`, `position_z`, `orientation`, `waittime`, `wander_distance`, `script_id`) VALUES 
(300750, 1, -6884.11, 1685.24, 4.14966, 0.98219, 0, 0, 0),
(300750, 2, -6855.12, 1724.63, 3.10327, 0.931136, 0, 0, 0),
(300750, 3, -6817.98, 1774.55, 2.4699, 0.931136, 0, 0, 0),
(300750, 4, -6797.3, 1806.08, 2.39894, 1.06465, 0, 0, 0),
(300750, 5, -6768.14, 1846.23, 4.57433, 0.825107, 0, 0, 0),
(300750, 6, -6743.35, 1872.03, 2.85865, 0.664101, 0, 0, 0),
(300750, 7, -6766.98, 1842, 4.45532, 4.03739, 0, 0, 0),
(300750, 8, -6797.83, 1803.46, 2.58808, 4.03739, 0, 0, 0),
(300750, 9, -6821.02, 1774.49, 2.37975, 4.03739, 0, 0, 0),
(300750, 10, -6849.54, 1738.86, 3.10327, 4.03739, 0, 0, 0),
(300750, 11, -6867.42, 1703.71, 3.41344, 4.31227, 0, 0, 0),
(300750, 12, -6880.1, 1673.74, 4.3849, 4.31227, 0, 0, 0),
(300750, 13, -6885.14, 1638.43, 3.07011, 4.69319, 0, 0, 0),
(300750, 14, -6880.55, 1600.47, -0.710585, 4.811, 0, 0, 0),
(300750, 15, -6876.96, 1561.99, -0.706997, 4.80315, 0, 0, 0),
(300750, 16, -6873.42, 1523.06, -0.29705, 4.80315, 0, 0, 0),
(300750, 17, -6869.34, 1478.26, 6.02944, 4.80315, 0, 0, 0),
(300750, 18, -6884.76, 1447.28, 4.02215, 4.04525, 0, 0, 0),
(300750, 19, -6910.07, 1424.34, 4.89743, 3.82141, 0, 0, 0),
(300750, 20, -6896.95, 1382.9, 2.83792, 5.02699, 0, 0, 0),
(300750, 21, -6900.25, 1343.56, 5.10981, 4.55968, 0, 0, 0),
(300750, 22, -6909.72, 1310.73, 6.53999, 4.35156, 0, 0, 0),
(300750, 23, -6920.69, 1250.53, 4.9333, 4.66179, 0, 0, 0),
(300750, 24, -6921.31, 1208.61, 2.44456, 4.70498, 0, 0, 0),
(300750, 25, -6919.48, 1162.13, 2.72898, 4.76388, 0, 0, 0),
(300750, 26, -6923.78, 1141.17, 4.63914, 4.52041, 0, 0, 0),
(300750, 27, -6921.57, 1173.18, 2.59174, 1.55946, 0, 0, 0),
(300750, 28, -6919.46, 1205.85, 2.05919, 1.46914, 0, 0, 0),
(300750, 29, -6906.52, 1247.79, 2.60247, 1.19818, 0, 0, 0),
(300750, 30, -6891.73, 1285.62, 0.192904, 1.19818, 0, 0, 0),
(300750, 31, -6880.84, 1313.49, 1.21157, 1.19818, 0, 0, 0),
(300750, 32, -6868.92, 1344, 3.21127, 1.19818, 0, 0, 0),
(300750, 33, -6858.19, 1379.5, 4.13117, 1.30813, 0, 0, 0),
(300750, 34, -6852.4, 1411.64, 1.58906, 1.50055, 0, 0, 0),
(300750, 35, -6852.35, 1444.57, 2.77499, 1.5516, 0, 0, 0),
(300750, 36, -6854.02, 1479.65, 4.33711, 1.6812, 0, 0, 0),
(300750, 37, -6860.34, 1514.65, 0.810431, 1.77937, 0, 0, 0),
(300750, 38, -6871.42, 1567, -0.71066, 1.77937, 0, 0, 0),
(300750, 39, -6885.13, 1636.31, 3.09676, 1.77152, 0, 0, 0),
(300750, 40, -6879.41, 1656.32, 3.35069, 4.85224, 0, 0, 0),
(300750, 41, -6881.65, 1668.98, 4.07967, 4.22707, 0, 0, 0),
(300750, 42, -6872.93, 1686.5, 4.2976, 4.30011, 0, 0, 0),
(300750, 43, -6863.74, 1703.25, 3.5754, 3.81944, 0, 0, 0),
(300750, 44, -6854.42, 1709.16, 3.29604, 2.97357, 0, 0, 0),
(300750, 45, -6839.21, 1706.58, 0.182967, 2.97357, 0, 0, 0),
(300750, 46, -6825.32, 1704.17, 2.56048, 2.89817, 0, 0, 0),
(300750, 47, -6811.5, 1701.87, 3.0732, 3.3914, 0, 0, 0),
(300750, 48, -6789.35, 1707.52, 3.14399, 3.3914, 0, 0, 0),
(300750, 49, -6772.28, 1715.71, 4.61705, 3.75897, 0, 0, 0),
(300750, 50, -6752.31, 1729.89, 4.44032, 3.75897, 0, 0, 0),
(300750, 51, -6735.14, 1742.32, 2.48715, 3.72127, 0, 0, 0),
(300750, 52, -6724.27, 1750.03, -0.726431, 3.83201, 0, 0, 0),
(300750, 53, -6713.9, 1758.6, 0.188765, 3.83201, 0, 0, 0),
(300750, 54, -6701.5, 1768.22, 2.47542, 3.53749, 0, 0, 0),
(300750, 55, -6681.8, 1773.8, 4.31723, 3.28066, 0, 0, 0),
(300750, 56, -6662.58, 1776.59, 5.55012, 3.3914, 0, 0, 0),
(300750, 57, -6642.97, 1781.59, 5.79434, 3.3914, 0, 0, 0),
(300750, 58, -6617.89, 1786.3, 2.5482, 3.24532, 0, 0, 0),
(300750, 59, -6642.97, 1781.59, 5.79434, 3.3914, 0, 0, 0),
(300750, 60, -6662.58, 1776.59, 5.55012, 3.3914, 0, 0, 0),
(300750, 61, -6681.8, 1773.8, 4.31723, 3.28066, 0, 0, 0),
(300750, 62, -6701.5, 1768.22, 2.47542, 3.53749, 0, 0, 0),
(300750, 63, -6713.9, 1758.6, 0.188765, 3.83201, 0, 0, 0),
(300750, 64, -6724.27, 1750.03, -0.726431, 3.83201, 0, 0, 0),
(300750, 65, -6735.14, 1742.32, 2.48715, 3.72127, 0, 0, 0),
(300750, 66, -6752.31, 1729.89, 4.44032, 3.75897, 0, 0, 0),
(300750, 67, -6772.28, 1715.71, 4.61705, 3.75897, 0, 0, 0),
(300750, 68, -6789.35, 1707.52, 3.14399, 3.3914, 0, 0, 0),
(300750, 69, -6811.5, 1701.87, 3.0732, 3.3914, 0, 0, 0),
(300750, 70, -6825.32, 1704.17, 2.56048, 2.89817, 0, 0, 0),
(300750, 71, -6839.21, 1706.58, 0.182967, 2.97357, 0, 0, 0),
(300750, 72, -6854.42, 1709.16, 3.29604, 2.97357, 0, 0, 0),
(300750, 73, -6863.74, 1703.25, 3.5754, 3.81944, 0, 0, 0),
(300750, 74, -6872.93, 1686.5, 4.2976, 4.30011, 0, 0, 0),
(300750, 75, -6881.65, 1668.98, 4.07967, 4.22707, 0, 0, 0),
(300750, 76, -6879.41, 1656.32, 3.35069, 4.85224, 0, 0, 0),
(300750, 77, -6883.67, 1637.74, 3.15424, 4.7038, 0, 0, 0),
(300750, 78, -6892.6, 1631.8, 2.62164, 2.64056, 0, 0, 0);
DELETE FROM `creature_movement` WHERE `id`=43322;
INSERT INTO `creature_movement` (`id`, `point`, `position_x`, `position_y`, `position_z`, `orientation`, `waittime`, `wander_distance`, `script_id`) VALUES 
(43322, 1, -7611.79, 1607.78, 2.3015, 4.75279, 0, 0, 0),
(43322, 2, -7615.14, 1598.43, 3.98964, 5.05516, 0, 0, 0),
(43322, 3, -7618.21, 1582, 5.60624, 4.38365, 0, 0, 0),
(43322, 4, -7636.72, 1575.48, 7.05201, 3.40976, 0, 0, 0),
(43322, 5, -7653.19, 1580.34, 5.85397, 2.69505, 0, 0, 0),
(43322, 6, -7664.2, 1589.65, 1.31083, 2.43979, 0, 0, 0),
(43322, 7, -7678.24, 1602.48, 1.82788, 2.40052, 0, 0, 0),
(43322, 8, -7693.7, 1616.62, 4.20903, 2.40052, 0, 0, 0),
(43322, 9, -7715.78, 1636.82, 7.72923, 2.40052, 0, 0, 0),
(43322, 10, -7752.84, 1661.92, 5.44309, 2.5576, 0, 0, 0),
(43322, 11, -7769.22, 1682.96, 0.683925, 1.90179, 0, 0, 0),
(43322, 12, -7799.63, 1741.77, 4.34389, 2.30235, 0, 0, 0),
(43322, 13, -7809.8, 1782.52, -0.444866, 1.78791, 0, 0, 0),
(43322, 14, -7823.42, 1810.01, 3.94168, 2.09422, 0, 0, 0),
(43322, 15, -7842.65, 1835.53, 3.76209, 2.30627, 0, 0, 0),
(43322, 16, -7863.87, 1852.18, 2.86558, 2.53011, 0, 0, 0),
(43322, 17, -7887.41, 1866.35, 2.93402, 2.66363, 0, 0, 0),
(43322, 18, -7859.67, 1855.18, 2.74721, 5.86021, 0, 0, 0),
(43322, 19, -7838.56, 1842.09, 4.05976, 5.61282, 0, 0, 0),
(43322, 20, -7810.02, 1813.71, 4.02074, 5.37721, 0, 0, 0),
(43322, 21, -7785.18, 1771.1, -0.06016, 5.22406, 0, 0, 0),
(43322, 22, -7780.84, 1732.04, 2.3233, 4.7921, 0, 0, 0),
(43322, 23, -7769.04, 1700.54, 0.74436, 5.51465, 0, 0, 0),
(43322, 24, -7741.36, 1678.15, 6.52284, 5.6246, 0, 0, 0),
(43322, 25, -7705.68, 1645.7, 7.82174, 5.47538, 0, 0, 0),
(43322, 26, -7667.94, 1604.51, 1.52622, 5.52644, 0, 0, 0),
(43322, 27, -7635.43, 1581.5, 5.93618, 5.84059, 0, 0, 0),
(43322, 28, -7614.63, 1580.4, 5.1389, 2.76576, 0, 0, 0),
(43322, 29, -7611.13, 1603.01, 2.50675, 1.50912, 0, 0, 0),
(43322, 30, -7609.62, 1589.88, 3.41483, 1.13576, 0, 0, 0),
(43322, 31, -7618.36, 1575.05, 6.12038, 0.582052, 0, 0, 0),
(43322, 32, -7633.53, 1565.07, 8.19204, 0.582052, 0, 0, 0),
(43322, 33, -7657.38, 1548.17, 8.98179, 6.08062, 0, 0, 0),
(43322, 34, -7672.72, 1550.73, 7.24032, 5.38083, 0, 0, 0),
(43322, 35, -7690.34, 1573.04, 3.23954, 5.38083, 0, 0, 0),
(43322, 36, -7701.12, 1586.69, 3.64412, 5.38083, 0, 0, 0),
(43322, 37, -7712.37, 1600.94, 3.10336, 5.38083, 0, 0, 0),
(43322, 38, -7733.12, 1627.21, 7.32541, 5.38083, 0, 0, 0),
(43322, 39, -7748.5, 1646.69, 6.09533, 5.38083, 0, 0, 0),
(43322, 40, -7771.59, 1674.04, 2.28311, 5.5654, 0, 0, 0),
(43322, 41, -7791.69, 1691.59, -0.531833, 5.5654, 0, 0, 0),
(43322, 42, -7800.83, 1699.58, 2.02195, 5.5654, 0, 0, 0),
(43322, 43, -7816.98, 1716.94, 3.17339, 5.25439, 0, 0, 0),
(43322, 44, -7845.9, 1764.1, -0.020669, 5.1138, 0, 0, 0),
(43322, 45, -7852.1, 1778.7, 0.129083, 5.1138, 0, 0, 0),
(43322, 46, -7857.91, 1792.39, 2.28382, 5.1138, 0, 0, 0),
(43322, 47, -7852.1, 1778.7, 0.129083, 5.1138, 0, 0, 0),
(43322, 48, -7845.9, 1764.1, -0.020669, 5.1138, 0, 0, 0),
(43322, 49, -7816.98, 1716.94, 3.17339, 5.25439, 0, 0, 0),
(43322, 50, -7800.83, 1699.58, 2.02195, 5.5654, 0, 0, 0),
(43322, 51, -7791.69, 1691.59, -0.531833, 5.5654, 0, 0, 0),
(43322, 52, -7771.59, 1674.04, 2.28311, 5.5654, 0, 0, 0),
(43322, 53, -7748.5, 1646.69, 6.09533, 5.38083, 0, 0, 0),
(43322, 54, -7733.12, 1627.21, 7.32541, 5.38083, 0, 0, 0),
(43322, 55, -7712.37, 1600.94, 3.10336, 5.38083, 0, 0, 0),
(43322, 56, -7701.12, 1586.69, 3.64412, 5.38083, 0, 0, 0),
(43322, 57, -7690.34, 1573.04, 3.23954, 5.38083, 0, 0, 0),
(43322, 58, -7672.72, 1550.73, 7.24032, 5.38083, 0, 0, 0),
(43322, 59, -7657.38, 1548.17, 8.98179, 6.08062, 0, 0, 0),
(43322, 60, -7633.53, 1565.07, 8.19204, 0.582052, 0, 0, 0),
(43322, 61, -7618.36, 1575.05, 6.12038, 0.582052, 0, 0, 0),
(43322, 62, -7609.62, 1589.88, 3.41483, 1.13576, 0, 0, 0),
(43322, 63, -7612.01, 1612.5, 2.15631, 1.67611, 0, 0, 0),
(43322, 64, -7605.9, 1634.24, 1.68615, 1.14911, 0, 0, 0),
(43322, 65, -7596.68, 1654.79, 1.99252, 1.14911, 0, 0, 0),
(43322, 66, -7591.57, 1666.17, 5.48147, 1.14911, 0, 0, 0);


-- End of migration.
END IF;
END??
delimiter ; 
CALL add_migration();
DROP PROCEDURE IF EXISTS add_migration;
