DROP PROCEDURE IF EXISTS add_migration;
delimiter ??
CREATE PROCEDURE `add_migration`()
BEGIN
DECLARE v INT DEFAULT 1;
SET v = (SELECT COUNT(*) FROM `migrations` WHERE `id`='20230603190809');
IF v=0 THEN
INSERT INTO `migrations` VALUES ('20230603190809');
-- Add your query below.


-- Blindweed (142143)
SET @OGUID = 22130;

-- Correct position of Blindweed in Swamp of Sorrows (position is off by 0.317918 yards).
UPDATE `gameobject` SET `position_x`=-10491.7, `position_y`=-2594.1, `position_z`=21.2712, `orientation`=3.21142, `rotation0`=0, `rotation1`=0, `rotation2`=-0.999391, `rotation3`=0.0349061 WHERE `guid`=16361;

-- Correct position of Blindweed in Swamp of Sorrows (position is off by 0.244234 yards).
UPDATE `gameobject` SET `position_x`=-10408.2, `position_y`=-2826.86, `position_z`=20.2505, `orientation`=1.69297, `rotation0`=0, `rotation1`=0, `rotation2`=0.748956, `rotation3`=0.66262 WHERE `guid`=16372;

-- Correct position of Blindweed in Swamp of Sorrows (position is off by 0.100586 yards).
UPDATE `gameobject` SET `position_x`=-10136.6, `position_y`=-3063.92, `position_z`=21.7756, `orientation`=0.802851, `rotation0`=0, `rotation1`=0, `rotation2`=0.390731, `rotation3`=0.920505 WHERE `guid`=14016;

-- Correct position of Blindweed in Un'Goro Crater (position is off by 0.650948 yards).
UPDATE `gameobject` SET `position_x`=-6572.63, `position_y`=-1480.4, `position_z`=-273.356, `orientation`=4.67748, `rotation0`=0, `rotation1`=0, `rotation2`=-0.719339, `rotation3`=0.694659 WHERE `guid`=16303;

-- Correct position of Blindweed in Un'Goro Crater (position is off by 1.19911 yards).
UPDATE `gameobject` SET `position_x`=-6541.31, `position_y`=-1263.1, `position_z`=-271.363, `orientation`=6.10865, `rotation0`=0, `rotation1`=0, `rotation2`=-0.0871553, `rotation3`=0.996195 WHERE `guid`=16392;

-- Correct position of Blindweed in Un'Goro Crater (position is off by 1.39228 yards).
UPDATE `gameobject` SET `position_x`=-6442.17, `position_y`=-1417.75, `position_z`=-275.085, `orientation`=2.60054, `rotation0`=0, `rotation1`=0, `rotation2`=0.96363, `rotation3`=0.267241 WHERE `guid`=16329;

-- Correct position of Blindweed in Un'Goro Crater (position is off by 0.575382 yards).
UPDATE `gameobject` SET `position_x`=-6427.67, `position_y`=-1246.87, `position_z`=-272.547, `orientation`=2.58308, `rotation0`=0, `rotation1`=0, `rotation2`=0.961261, `rotation3`=0.27564 WHERE `guid`=16323;

-- Correct position of Blindweed in Un'Goro Crater (position is off by 1.04749 yards).
UPDATE `gameobject` SET `position_x`=-6712.71, `position_y`=-1690.77, `position_z`=-271.984, `orientation`=0.349065, `rotation0`=0, `rotation1`=0, `rotation2`=0.173648, `rotation3`=0.984808 WHERE `guid`=16378;

-- Correct position of Blindweed in Swamp of Sorrows (position is off by 4.16058 yards).
UPDATE `gameobject` SET `position_x`=-10242.2, `position_y`=-3376.07, `position_z`=20.5494, `orientation`=1.3439, `rotation0`=0, `rotation1`=0, `rotation2`=0.622514, `rotation3`=0.782609 WHERE `guid`=16379;

-- Correct position of Blindweed in Un'Goro Crater (position is off by 0.739797 yards).
UPDATE `gameobject` SET `position_x`=-6426.58, `position_y`=-1055.22, `position_z`=-272.403, `orientation`=1.23918, `rotation0`=0, `rotation1`=0, `rotation2`=0.580703, `rotation3`=0.814116 WHERE `guid`=16396;

-- Correct position of Blindweed in Swamp of Sorrows (position is off by 0.554703 yards).
UPDATE `gameobject` SET `position_x`=-10503.5, `position_y`=-2528.76, `position_z`=20.897, `orientation`=1.36136, `rotation0`=0, `rotation1`=0, `rotation2`=0.62932, `rotation3`=0.777146 WHERE `guid`=16375;

-- Correct position of Blindweed in Swamp of Sorrows (position is off by 1.20179 yards).
UPDATE `gameobject` SET `position_x`=-10372.5, `position_y`=-3527.04, `position_z`=19.7394, `orientation`=3.31614, `rotation0`=0, `rotation1`=0, `rotation2`=-0.996194, `rotation3`=0.087165 WHERE `guid`=16299;

-- Missing Blindweed spawns in Swamp of Sorrows.
INSERT INTO `gameobject` (`guid`, `id`, `map`, `position_x`, `position_y`, `position_z`, `orientation`, `rotation0`, `rotation1`, `rotation2`, `rotation3`, `spawntimesecsmin`, `spawntimesecsmax`, `state`, `animprogress`, `patch_min`, `patch_max`) VALUES
(@OGUID+1, 142143, 0, -10222.2, -3035.99, 20.7879, 3.10665, 0, 0, 0.999847, 0.0174693, 300, 300, 1, 100, 0, 10),
(@OGUID+2, 142143, 0, -10171, -3299.99, 19.4875, 3.68265, 0, 0, -0.96363, 0.267241, 300, 300, 1, 100, 0, 10),
(@OGUID+3, 142143, 0, -10458.4, -2887.71, 20.1373, 4.76475, 0, 0, -0.688354, 0.725374, 300, 300, 1, 100, 0, 10),
(@OGUID+4, 142143, 0, -10235.4, -2803.57, 20.9111, 1.76278, 0, 0, 0.771625, 0.636078, 300, 300, 1, 100, 0, 10),
(@OGUID+5, 142143, 0, -10357, -3025.39, 20.6107, 2.77507, 0, 0, 0.983254, 0.182238, 300, 300, 1, 100, 0, 10),
(@OGUID+6, 142143, 0, -10313.8, -3033.26, 19.5618, 0.767944, 0, 0, 0.374606, 0.927184, 300, 300, 1, 100, 0, 10),
(@OGUID+7, 142143, 0, -10321.2, -2995.54, 20.3654, 4.79966, 0, 0, -0.67559, 0.737278, 300, 300, 1, 100, 0, 10),
(@OGUID+8, 142143, 0, -10461.1, -2672.9, 22.8257, 4.46804, 0, 0, -0.788011, 0.615662, 300, 300, 1, 100, 0, 10),
(@OGUID+9, 142143, 0, -10641.8, -2588.92, 22.8873, 0.279252, 0, 0, 0.139173, 0.990268, 300, 300, 1, 100, 0, 10),
(@OGUID+10, 142143, 0, -10580.5, -2562.1, 21.5194, 2.21657, 0, 0, 0.894934, 0.446199, 300, 300, 1, 100, 0, 10),
(@OGUID+11, 142143, 0, -10122.4, -3323.38, 20.8346, 0.279252, 0, 0, 0.139173, 0.990268, 300, 300, 1, 100, 0, 10),
(@OGUID+12, 142143, 0, -10138.9, -3363.5, 20.8903, 0.104719, 0, 0, 0.0523357, 0.99863, 300, 300, 1, 100, 0, 10),
(@OGUID+13, 142143, 0, -10114.9, -2981.81, 19.8928, 2.54818, 0, 0, 0.956305, 0.292372, 300, 300, 1, 100, 0, 10),
(@OGUID+14, 142143, 0, -10253, -3478.13, 20.0721, 0.139624, 0, 0, 0.0697556, 0.997564, 300, 300, 1, 100, 0, 10),
(@OGUID+15, 142143, 0, -10441.7, -2949.74, 20.4125, 3.90954, 0, 0, -0.927183, 0.374608, 300, 300, 1, 100, 0, 10),
(@OGUID+16, 142143, 0, -10232.6, -3237.06, 20.4871, 0.680677, 0, 0, 0.333806, 0.942642, 300, 300, 1, 100, 0, 10),
(@OGUID+17, 142143, 0, -10657.7, -4079.63, 19.5799, 2.16421, 0, 0, 0.882947, 0.469473, 300, 300, 1, 100, 0, 10),
(@OGUID+18, 142143, 0, -10156.6, -3020.3, 19.5942, 6.19592, 0, 0, -0.0436192, 0.999048, 300, 300, 1, 100, 0, 10),
(@OGUID+19, 142143, 0, -10154.7, -3157.6, 20.0131, 2.80998, 0, 0, 0.986285, 0.16505, 300, 300, 1, 100, 0, 10),
(@OGUID+20, 142143, 0, -10117.8, -3817.3, 19.4778, 1.16937, 0, 0, 0.551936, 0.833886, 300, 300, 1, 100, 0, 10),
(@OGUID+21, 142143, 0, -9852.09, -3917.35, 19.15, 4.66003, 0, 0, -0.725374, 0.688355, 300, 300, 1, 100, 0, 10),
(@OGUID+22, 142143, 0, -10645.7, -4035.19, 20.4782, 3.7001, 0, 0, -0.961261, 0.27564, 300, 300, 1, 100, 0, 10),
(@OGUID+23, 142143, 0, -10480.5, -3459.36, 20.3456, 1.13446, 0, 0, 0.537299, 0.843392, 300, 300, 1, 100, 0, 10),
(@OGUID+24, 142143, 0, -10172.4, -2481.55, 26.186, 4.29351, 0, 0, -0.83867, 0.54464, 300, 300, 1, 100, 0, 10),
(@OGUID+25, 142143, 0, -10176.8, -3466.55, 20.1173, 0.855211, 0, 0, 0.414693, 0.909961, 300, 300, 1, 100, 0, 10),
(@OGUID+26, 142143, 0, -10121.9, -2446.31, 29.0265, 4.34587, 0, 0, -0.824126, 0.566406, 300, 300, 1, 100, 0, 10),
(@OGUID+27, 142143, 0, -10357.6, -2897.18, 19.517, 1.22173, 0, 0, 0.573576, 0.819152, 300, 300, 1, 100, 0, 10),
(@OGUID+28, 142143, 0, -10334.2, -3147.92, 18.8815, 5.96903, 0, 0, -0.156434, 0.987688, 300, 300, 1, 100, 0, 10),
(@OGUID+29, 142143, 0, -10161, -4045.61, 19.7449, 2.70526, 0, 0, 0.976295, 0.216442, 300, 300, 1, 100, 0, 10),
(@OGUID+30, 142143, 0, -10744.6, -3949.81, 19.419, 5.09636, 0, 0, -0.559193, 0.829038, 300, 300, 1, 100, 0, 10),
(@OGUID+31, 142143, 0, -10154.1, -3612.59, 20.8298, 4.60767, 0, 0, -0.743144, 0.669131, 300, 300, 1, 100, 0, 10),
(@OGUID+32, 142143, 0, -10384.2, -3003.25, 19.8948, 3.94445, 0, 0, -0.920505, 0.390732, 300, 300, 1, 100, 0, 10),
(@OGUID+33, 142143, 0, -10514.7, -4232.38, 20.9734, 2.25147, 0, 0, 0.902585, 0.430512, 300, 300, 1, 100, 0, 10),
(@OGUID+34, 142143, 0, -10242.6, -4160.91, 19.8102, 1.15192, 0, 0, 0.544639, 0.838671, 300, 300, 1, 100, 0, 10),
(@OGUID+35, 142143, 0, -10095.6, -3478.14, 19.7837, 5.98648, 0, 0, -0.147809, 0.989016, 300, 300, 1, 100, 0, 10),
(@OGUID+36, 142143, 0, -9916.34, -3755.5, 19.711, 4.43314, 0, 0, -0.798635, 0.601815, 300, 300, 1, 100, 0, 10),
(@OGUID+37, 142143, 0, -10288, -2913.33, 19.7969, 5.20108, 0, 0, -0.515038, 0.857168, 300, 300, 1, 100, 0, 10),
(@OGUID+38, 142143, 0, -10189.2, -2615.33, 28.1262, 5.46288, 0, 0, -0.398748, 0.91706, 300, 300, 1, 100, 0, 10),
(@OGUID+39, 142143, 0, -10124.2, -3547.14, 21.207, 3.35105, 0, 0, -0.994521, 0.104536, 300, 300, 1, 100, 0, 10),
(@OGUID+40, 142143, 0, -10090.8, -3892.05, 20.1091, 5.63741, 0, 0, -0.317305, 0.948324, 300, 300, 1, 100, 0, 10),
(@OGUID+41, 142143, 0, -10199.6, -3054.29, 21.0531, 2.40855, 0, 0, 0.93358, 0.358368, 300, 300, 1, 100, 0, 10),
(@OGUID+42, 142143, 0, -10291, -3540.71, 20.7133, 5.49779, 0, 0, -0.382683, 0.92388, 300, 300, 1, 100, 0, 10),
(@OGUID+43, 142143, 0, -10845.1, -4027.8, 19.3908, 0.541051, 0, 0, 0.267238, 0.963631, 300, 300, 1, 100, 0, 10),
(@OGUID+44, 142143, 0, -10622.6, -3790.71, 18.5644, 5.42797, 0, 0, -0.414693, 0.909961, 300, 300, 1, 100, 0, 10),
(@OGUID+45, 142143, 0, -10481.2, -3536.66, 19.8716, 0.610863, 0, 0, 0.300705, 0.953717, 300, 300, 1, 100, 0, 10),
(@OGUID+46, 142143, 0, -10389.4, -2914.98, 20.7448, 1.55334, 0, 0, 0.700909, 0.713251, 300, 300, 1, 100, 0, 10),
(@OGUID+47, 142143, 0, -10304.9, -3235.9, 20.9315, 3.50812, 0, 0, -0.983254, 0.182238, 300, 300, 1, 100, 0, 10),
(@OGUID+48, 142143, 0, -10242.2, -3376.07, 20.5494, 1.3439, 0, 0, 0.622514, 0.782609, 300, 300, 1, 100, 0, 10),
(@OGUID+49, 142143, 0, -10237.5, -3015.26, 20.3859, 2.47837, 0, 0, 0.945518, 0.325568, 300, 300, 1, 100, 0, 10),
(@OGUID+50, 142143, 0, -10222.1, -2547.43, 28.302, 5.44543, 0, 0, -0.406736, 0.913546, 300, 300, 1, 100, 0, 10),
(@OGUID+51, 142143, 0, -10191.9, -2867.31, 20.7899, 5.68977, 0, 0, -0.292372, 0.956305, 300, 300, 1, 100, 0, 10),
(@OGUID+52, 142143, 0, -10167.3, -3521.56, 20.2177, 3.31614, 0, 0, -0.996194, 0.087165, 300, 300, 1, 100, 0, 10),
(@OGUID+53, 142143, 0, -10139, -3363.5, 20.8903, 0.104719, 0, 0, 0.0523357, 0.99863, 300, 300, 1, 100, 0, 10),
(@OGUID+54, 142143, 0, -10107.7, -4181.29, 20.4598, 2.63544, 0, 0, 0.968147, 0.250381, 300, 300, 1, 100, 0, 10),
(@OGUID+55, 142143, 0, -10100.4, -3668.16, 21.1925, 0.95993, 0, 0, 0.461748, 0.887011, 300, 300, 1, 100, 0, 10);

-- Missing Blindweed spawns in Un'Goro Crater.
INSERT INTO `gameobject` (`guid`, `id`, `map`, `position_x`, `position_y`, `position_z`, `orientation`, `rotation0`, `rotation1`, `rotation2`, `rotation3`, `spawntimesecsmin`, `spawntimesecsmax`, `state`, `animprogress`, `patch_min`, `patch_max`) VALUES
(@OGUID+56, 142143, 1, -6785.18, -1242.31, -270.824, 5.53269, 0, 0, -0.366501, 0.930418, 300, 300, 1, 100, 0, 10),
(@OGUID+57, 142143, 1, -6568.52, -1670.89, -270.533, 0.890117, 0, 0, 0.430511, 0.902586, 300, 300, 1, 100, 0, 10);

INSERT INTO `pool_gameobject` (`guid`, `pool_entry`, `chance`, `description`, `patch_min`, `patch_max`) VALUES
(@OGUID+1, 1307, 0, 'Blindweed', 0, 10),
(@OGUID+2, 1307, 0, 'Blindweed', 0, 10),
(@OGUID+3, 1307, 0, 'Blindweed', 0, 10),
(@OGUID+4, 1307, 0, 'Blindweed', 0, 10),
(@OGUID+5, 1307, 0, 'Blindweed', 0, 10),
(@OGUID+6, 1307, 0, 'Blindweed', 0, 10),
(@OGUID+7, 1307, 0, 'Blindweed', 0, 10),
(@OGUID+8, 1307, 0, 'Blindweed', 0, 10),
(@OGUID+9, 1307, 0, 'Blindweed', 0, 10),
(@OGUID+10, 1307, 0, 'Blindweed', 0, 10),
(@OGUID+11, 1307, 0, 'Blindweed', 0, 10),
(@OGUID+12, 1307, 0, 'Blindweed', 0, 10),
(@OGUID+13, 1307, 0, 'Blindweed', 0, 10),
(@OGUID+14, 1307, 0, 'Blindweed', 0, 10),
(@OGUID+15, 1307, 0, 'Blindweed', 0, 10),
(@OGUID+16, 1307, 0, 'Blindweed', 0, 10),
(@OGUID+17, 1307, 0, 'Blindweed', 0, 10),
(@OGUID+18, 1307, 0, 'Blindweed', 0, 10),
(@OGUID+19, 1307, 0, 'Blindweed', 0, 10),
(@OGUID+20, 1307, 0, 'Blindweed', 0, 10),
(@OGUID+21, 1307, 0, 'Blindweed', 0, 10),
(@OGUID+22, 1307, 0, 'Blindweed', 0, 10),
(@OGUID+23, 1307, 0, 'Blindweed', 0, 10),
(@OGUID+24, 1307, 0, 'Blindweed', 0, 10),
(@OGUID+25, 1307, 0, 'Blindweed', 0, 10),
(@OGUID+26, 1307, 0, 'Blindweed', 0, 10),
(@OGUID+27, 1307, 0, 'Blindweed', 0, 10),
(@OGUID+28, 1307, 0, 'Blindweed', 0, 10),
(@OGUID+29, 1307, 0, 'Blindweed', 0, 10),
(@OGUID+30, 1307, 0, 'Blindweed', 0, 10),
(@OGUID+31, 1307, 0, 'Blindweed', 0, 10),
(@OGUID+32, 1307, 0, 'Blindweed', 0, 10),
(@OGUID+33, 1307, 0, 'Blindweed', 0, 10),
(@OGUID+34, 1307, 0, 'Blindweed', 0, 10),
(@OGUID+35, 1307, 0, 'Blindweed', 0, 10),
(@OGUID+36, 1307, 0, 'Blindweed', 0, 10),
(@OGUID+37, 1307, 0, 'Blindweed', 0, 10),
(@OGUID+38, 1307, 0, 'Blindweed', 0, 10),
(@OGUID+39, 1307, 0, 'Blindweed', 0, 10),
(@OGUID+40, 1307, 0, 'Blindweed', 0, 10),
(@OGUID+41, 1307, 0, 'Blindweed', 0, 10),
(@OGUID+42, 1307, 0, 'Blindweed', 0, 10),
(@OGUID+43, 1307, 0, 'Blindweed', 0, 10),
(@OGUID+44, 1307, 0, 'Blindweed', 0, 10),
(@OGUID+45, 1307, 0, 'Blindweed', 0, 10),
(@OGUID+46, 1307, 0, 'Blindweed', 0, 10),
(@OGUID+47, 1307, 0, 'Blindweed', 0, 10),
(@OGUID+48, 1307, 0, 'Blindweed', 0, 10),
(@OGUID+49, 1307, 0, 'Blindweed', 0, 10),
(@OGUID+50, 1307, 0, 'Blindweed', 0, 10),
(@OGUID+51, 1307, 0, 'Blindweed', 0, 10),
(@OGUID+52, 1307, 0, 'Blindweed', 0, 10),
(@OGUID+53, 1307, 0, 'Blindweed', 0, 10),
(@OGUID+54, 1307, 0, 'Blindweed', 0, 10),
(@OGUID+55, 1307, 0, 'Blindweed', 0, 10),
(@OGUID+56, 1216, 0, 'Blindweed', 0, 10),
(@OGUID+57, 1216, 0, 'Blindweed', 0, 10);

-- Correct Pools
UPDATE `pool_template` SET `description` = 'Blindweed in Swamp of Sorrows' WHERE `entry` = 1307;
UPDATE `pool_gameobject` SET `pool_entry` = 1307 WHERE `guid` IN (13969, 14003, 14008, 14016, 14018, 14019, 16289, 16293, 16295, 16301, 16302, 16307, 16308, 16312, 16313, 16316, 16319, 16320, 16321, 16326, 16327, 16328, 16330, 16332, 16335, 16341, 16343, 16346, 16347, 16348, 16349, 16351, 16352, 16355, 16357, 16359, 16360, 16361, 16362, 16365, 16366, 16370, 16372, 16373, 16375, 16379, 16380, 16382, 16384, 16386, 16387, 16393, 16397, 16398, 16400, 16407, 16408, 16410, 16411, 16412, 30615, 30616, 30745, 30829, 30854, 30946, 30984, 31017);
DELETE FROM `pool_template` WHERE `entry` = 1312;

-- Remove Custom Spawns (Non of these spawns exist in the sniff-db)
DELETE FROM `gameobject` WHERE `guid` IN (16313, 16316, 22183, 22183, 16340, 16287, 16288, 16290, 16291, 16293, 16295, 16296, 16297, 16298, 16300, 16301, 16302, 16304, 16306, 16307, 16308, 16309, 16310, 16311, 16312, 16314, 16315, 16318, 16319, 16320, 16321, 16322, 16324, 16327, 16328, 16330, 16331, 16335, 16336, 16341, 16342, 16344, 16345, 16346, 16347, 16348, 16349, 16350, 16351, 16353, 16354, 16355, 16356, 16357, 16359, 16360, 16362, 16363, 16364, 16365, 16366, 16367, 16368, 16369, 16370, 16371, 16373, 16374, 16377, 16380, 16382, 16383, 16384, 16386, 16387, 16388, 16389, 16390, 16391, 16394, 16395, 16397, 16398, 16399, 16400, 16401, 16402, 16403, 16404, 16405, 16407, 16408, 16409, 16410, 16412, 16413, 16414);
DELETE FROM `pool_gameobject` WHERE `guid` IN (16313, 16316, 22183, 22183, 16340, 16287, 16288, 16290, 16291, 16293, 16295, 16296, 16297, 16298, 16300, 16301, 16302, 16304, 16306, 16307, 16308, 16309, 16310, 16311, 16312, 16314, 16315, 16318, 16319, 16320, 16321, 16322, 16324, 16327, 16328, 16330, 16331, 16335, 16336, 16341, 16342, 16344, 16345, 16346, 16347, 16348, 16349, 16350, 16351, 16353, 16354, 16355, 16356, 16357, 16359, 16360, 16362, 16363, 16364, 16365, 16366, 16367, 16368, 16369, 16370, 16371, 16373, 16374, 16377, 16380, 16382, 16383, 16384, 16386, 16387, 16388, 16389, 16390, 16391, 16394, 16395, 16397, 16398, 16399, 16400, 16401, 16402, 16403, 16404, 16405, 16407, 16408, 16409, 16410, 16412, 16413, 16414);

-- Sync Gobject Data
UPDATE `gameobject` SET `spawn_flags` = 0, `animprogress` = 100 WHERE `id` = 142143;

-- Update Counters
UPDATE `pool_template` SET `max_limit` = 46 WHERE `entry`=1307;


-- End of migration.
END IF;
END??
delimiter ; 
CALL add_migration();
DROP PROCEDURE IF EXISTS add_migration;
